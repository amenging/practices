<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>编程练习</title>
</head>
<body>
	<script type="text/javascript">
		// 算法相关


		//选择排序
		function choose(arr) {
			for (var i = 0; i < arr.length; i ++) {
				var k = i; // 当前位置
				var current = v = arr [i]; // v为当前值，current为交换做准备

				for (var j = i + 1; j < arr.length; j ++) {
					if (arr[j] < v) { // 找出最小值索引
						k = j;
						v = arr[j]
					}
				}

				if (current != v) { // 若最小值索引发生改变，则交换位置
					arr[i] = v;
					arr[k] = current;
				}
			}

			return arr;
		}

		// console.log(choose([1, 4, 2, 5]))

		// 逆波兰式
		function rp(str) {
			var arr = str.split('');
			var ops = '+-#*/'.split('')
			var result = [], temp = [];
			arr.forEach(function(ele, ind) {
				if (ele == '(') {
					temp.push(ele)
				} else if (ele == ')') {
					var flag = true;
					while (flag) {
						if (temp[temp.length-1] != '(') {
							result.push(temp.pop())
						} else {
							temp.pop();
							flag = false;
						}
					}
				} else if (ops.indexOf(ele) != -1) {
					cb(ele, temp)
					function cb(x, o) {
						if (o.length == 0 || o[o.length-1] == '(' || 
							ops.indexOf(x) - ops.indexOf(o[o.length-1]) > 2) {
							o.push(x)
						}  else {
							result.push(o.pop());
							return cb(x, o)
						}
					}
				} else {
					result.push(ele)
				}
			})
			while (temp.length > 0) {
				if(temp[temp.length-1] != '(') {
					result.push(temp.pop())
				} else {
					temp.pop()
				}
			}
			return result.join('');
		}
		// console.log(rp('(a+b)*c-(a+b)/e'))
		// console.log(rp('a+(b+c)*d-e'))

		//欧几里得算法
		function gcd (q, p) {
			return p == 0 ? q : gcd(p, q%p)
		}
		// console.log(gcd (4, 5))

		//插入排序
		function insert(arr, n) {
			for (var j = 1; j < arr.length; j ++) {
				var key = arr[j];
				var i = j - 1;
				while (i >= 0 && arr[i] >key) {
					arr[i+1] = arr[i];
					i = i -1;
					console.log(i)
				}
				arr[i+1] = key;
			}
			console.log(arr)
		}

		// insert([5, 7, 4, 6, 8, 3])

		'有两个各存放在数组A和数组B中的二进制整数，考虑他们的想加问题，结果存在的数组C中'
		// 思路：
		// 假设A.length <= B.length，从末位开始相加
		// 初始化一个结果栈，一个进位字符
		// 对于A和B当前位置的两个数a和b
		// 1.进位字符为0：
		//   若a和b都为0，将0推入结果栈
		//   若a和b一方为0一方为1，将1推入结果栈
		//   若a和b都为1，将0推入结果栈，进位字符设为1
		// 2.进位字符为1：
		//   若a和b都为0，将1推入结果栈并且将进位字符设为0
		//   若a和b一方为0一方为1，将0推入结果栈
    //   若a和b都为1，将1推入结果栈
    // 遍历结束后
    //   若进位字符为1
    //     若B内还有值未遍历，从B为遍历的最后一位开始做进位判断
    //     若B内无值未遍历，则将1推入结果
    //   若进位字符为0，B内还有字符未遍历
    //     将B内剩余字符推入结果栈

    function add(A, B) {
    	var result = [];
    	var flag = 0;
    	for (var i = A.length - 1, j = B.length - 1; i >= 0, j >= 0; i --, j --) {
    		if (flag == 0) {
	    		if (A[i] + B[j] == 0) {
	    			result.push(0);
	    		} else if (A[i] + B[j] == 1) {
	    			result.push(1);
	    		} else if (A[i] + B[j] == 2) {
	    			result.push(0);
	    			flag = 1;
	    		}
    		} else {
    			if (A[i] + B[j] == 0) {
	    			result.push(1);
	    			flag = 0;
	    		} else if (A[i] + B[j] == 1) {
	    			result.push(0);
	    		} else if (A[i] + B[j] == 2){
	    			result.push(1);
	    		}
    		}
    	}
    	if(flag == 1) {
    		if (B.length > A.length) {
    			var j = B.length - A.length-1
    			while (j >= 0) {
    				if (B[j] + flag == 0) {
		    			result.push(0);
		    		} else if (B[j] + flag == 1) {
		    			result.push(1);
		    			flag = 0;
		    		} else if (B[j] + flag == 2){
		    			result.push(0);
		    			flag = 1;
			    	} else {
		    			flag = 0;
		    		}
	    			j --;
    			}
    			if (flag) { result.push(1); }
	    	} else {
	  			result.push(1);
    		}
	    } else {
    		if (B.length > A.length) {
    			var j = B.length - A.length -1
    			while (j >= 0) {
    				result.push(B[j])
    				j --
    			}
    		}
    	}
    	console.log(result.reverse())
    }
    // add([1, 0, 1], [1, 1, 0])

	</script>
	<script type="text/javascript">
		// 练习题
		`在一个二维数组中，每一行都按照从左到右递增的顺序排序，每一列都按照从上到下递增的顺序排序。
		请完成一个函数，输入这样的一个二维数组和一个整数，判断数组中是否含有该整数。`
		// 思路
		// 从二维数组的左下角开始查找，向上数字递减，向右递增
		// 这样，目标大于此数字向右，小于此数字向上
		function Find(target, array) {
		    var row = array.length -1;
		    var column = array[0].length -1;
		    
		    var i = row;
		    var j = 0;
		    
		    if (target< array[0][0] || target > array[row][column]) {
		      return false;
		    }
		    
		    return (function fin(i, j) {
		    	if (i >= 0 && j >= 0) {
		    		var current = array[i][j];
			      if (target == current) {
			        return true;
			      } else if (target > current){
			        return fin(i, j+1);
			      } else if (target < current) {
			        return fin(i-1, j);
			      }
		    	}
		      return false;
		    })(i, j)
		}
		console.log(Find(5,[[1,2,8,9],[2,4,9,12],[4,7,10,13],[6,8,11,15]]))
	</script>
</body>
</html>